<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="./css/common.css" rel="stylesheet">
  <link href="./css/main.css" rel="stylesheet">
  <link href="./css/diagram.css" rel="stylesheet">
  <script src="./js/bootstrap.js"></script>
  <!-- <script src="js/include.js"></script> -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>  
  <script type="module" src="./js/main/dataManager.js"></script> <!--한번에 total_data.conf 뿌려주는 파일-->
  <script type="module" src="./js/main/operation_rate.js"></script> <!--발전량 / 가동율 누적차트-->
  <script type="module" src="./js/main/eventManager.js"></script> <!-- DOMloaded때 이벤트 핸들링만 하는 파일--> 
  <script type="module" src="./js/main/system-info.js"></script> <!--우측 하단 시스템정보-->
  <script type="module" src="./js/main/alarm.js"></script> <!-- 알람로그 -->
  <script type="module" src="./js/main/realTimeProduction.js"></script> <!-- 실시간 생산량 반도넛 -->
  <script type="module" src="./js/main/operation_info.js"></script> <!-- 발전량 / 가동율 누적차트 -->
  <script type="module" src="./js/main/dayMonthProductionBar.js"></script> <!--금일/금월 전기/열생산량 바그래프-->
  <script type="module" src="./js/main/qoe.js"></script>
  <script type="module" src="./js/main/bopDiagram.js"></script> <!--시스템구조도(BOP)-->
  <script type="module">
    import { setupStackSelector } from './js/config/stackSelector.js';
    import { initI18n, changeLanguage } from './js/config/i18n.js';
    
    document.addEventListener('DOMContentLoaded', (event) => {
        initI18n();
        setupStackSelector();

        // 언어 변경 테스트용
        const languageSelector = document.getElementById('language-selector');
        if (languageSelector) {
            languageSelector.addEventListener('change', (event) => {
                changeLanguage(event.target.value);
            });
        }
    });

    // 링크 업데이트 함수를 전역 스코프에 추가
    window.updateLink = function(link) {
        const selectedStack = localStorage.getItem('selectedStack') || '2';
        const newHref = `${link.getAttribute('href')}?selected=${selectedStack}`;
        link.setAttribute('href', newHref);
        return true;
    }
</script>
  <title>FuelCellDR. : 대시보드</title>
  <style>
    #NEW_SITE { width:100%; height:100%; overflow: none; }
  </style>
</head>
<body>
  <header>
    <!-- <nav include-html="./components/nav.html"></nav>  -->
    <?php include('navbar.php'); ?> 
  </header>
  <main>
    <div class="row">
      <div class="col-xxl-12 col-12">
        <div class="widget" style="height: calc(100vh - 100px);">
          <div class="widget-head" data-i18n="analyze.analyze_report">
            <!-- 분석 -->
            <div class="widget-head-gadget"><span class="icon-arrow-right2"></span></div>
          </div>
          <div class="widget-body">
		  <iframe id="NEW_SITE" src="http://fuelcelldr.nstek.com:9999/NEW/index.html"/>
          </div>
        </div>
      </div>
    </div>
  </main>
</body>
</html>

<!-- <script src="js/main.js?type=1&graph=.BOP-graph>.widget-body>div"></script> -->
<!-- <script src="js/imp.js?folder=정상_데이터_폴더&el=.widget.stack-status>.widget-body>.row>.left-side>div"></script> -->
<!-- <script src="js/bode.js?folder=최근_데이터_폴더&el=.widget.stack-status>.widget-body>.row>.right-side>div"></script> -->


